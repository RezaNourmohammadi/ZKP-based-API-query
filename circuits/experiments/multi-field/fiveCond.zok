from "./common.zok" import performConditionCheck, assertMerkle8Fields10Level;

def hoolaHoop(u32 val) -> bool {
    // assert( val == 1);
    u32 kk = val;
    return true;
}

// Compose the result of 5 conditions
// cmpVal - set of field elements to compare the row to
// queryKeyOp - set of row indices, and corresponding op to apply
def main(private field[8] row, private field[18] merkleArr, field[5] cmpVal, u32[5][2] queryKeyOp, field root) {
    bool mut compoundConditional = true;
    for u32 i in 0..5 {
        compoundConditional = compoundConditional &&  (
            if queryKeyOp[i][1] == 0 {true} 
            else {
                performConditionCheck(row[queryKeyOp[i][0]], cmpVal[i], queryKeyOp[i][1])
            }
        );
    }
    assert(compoundConditional);

    bool merkleCheck = assertMerkle8Fields10Level(row, merkleArr, root);
    assert(merkleCheck);
}

/* 
//To run
zokrates compile --debug -i main.zok

zokrates compute-witness -a 3176497 65535 5402478 65535 18 65535 32158959249092461 65535 3980119318616922749832289419218657384218873462294265029307470175821780574585 2282974599304239812769508669391609185187787615218636351904893075940984826384 78357558646071733504081485010797918560856532100125390506434856871541324554539 92496864600068400499025427531284321265524217402737033099701724427600703127817 114783349644717346145798997252585819927536834989128698082230540428842835164963 12015365893681952157135558137487595768504486938383508754513243973038064693283 7445539281351387500279147596795300987365265022761266251968206695182014485525 91173960666886725676651674552861634703979106478475501031779654245082890083106 57433797723345774979898955500374536082703590159899826566340141905738722897680 82091479159827414587430147423384276277994343274970071528981304495297032836142 14065376973099136692776550007078433718779922975221347727772681314846953360390 81766991266250812898900663674077451904439196183620892043919369202521923891463 2689663531651138800501654232426896091015801591426520549586112099909812102150 56977614492075954402703802444746648056692098765479624094215310171075515371040 60683055660840293209199336607695572865146213918353719414955902042624654646050 98632079112556972894251545643662435415134143944706286218855213693556721896226 80977667186847992447841395435256621373471532590601874562564918561512363655947 39826417394817728759745923952244956081562693437345184190066252517314873827840 18 18 18 18 18 4 2 4 2 4 2 4 2 4 2 111462847290876436732560319113492001568769653946165494888755892850456586691102 --verbose

3980119318616922749832289419218657384218873462294265029307470175821780574585

zokrates setup
zokrates generate-proof

zokrates verify
*/